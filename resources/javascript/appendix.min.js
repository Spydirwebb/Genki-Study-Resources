!function(e,s){"use strict";Genki.appendix={jisho:{mode:"ja",selected:[],cache:{box:{},group:{},search:{ja:[],en:[]}},init:function(){var e,n,i,a,t,l,c,o,r,p=storageOK&&localStorage.selectedDefinitions?localStorage.selectedDefinitions.split(","):[],d=[],u={},h=0;for(n in Genki.jisho){for(l=s.getElementById("list-"+n),c=s.createDocumentFragment(),g=0,k=Genki.jisho[n].length;g<k;g++)Genki.jisho[n][g].en&&((e=s.createElement("LI")).className="definition clear",e.dataset.def=n+g,i=Genki.jisho[n][g].ja.split("|"),e.innerHTML='<input class="def-selector genki_input_hidden" type="checkbox" onchange="Genki.appendix.jisho.updateCheckboxes(this, \''+e.dataset.def+"');\""+(-1!=p.indexOf(e.dataset.def)?"checked":"")+'><span tabindex="0" class="genki_pseudo_checkbox" onclick="this.previousSibling.click();" onkeypress="event.key == \'Enter\' && this.previousSibling.click();"></span><span class="def-ja'+(i[1]?" def-furi":"")+'">'+i[0]+(i[1]?"<i>"+i[1]+"</i>":"")+'</span><span class="def-en">'+Genki.jisho[n][g].en+"</span>"+(Genki.jisho[n][g].v?' <span class="def-vtype">[<i>'+Genki.jisho[n][g].v+"</i>]</span>":"")+'<span class="def-label">'+Genki.jisho[n][g].l+"</span>",c.appendChild(e),u[t=Genki.jisho[n][g].en.replace(/^\(.*?\) |^to be |^to |^the |^it |^\.\.\.(?:,|)|^\d+-|^\d+|^"|^-/i,"").toLowerCase()]&&(t=t+"-"+ ++h),u[t]=e.cloneNode(!0),d.push(t),Genki.appendix.jisho.cache.box[e.dataset.def]={ja:e.firstChild},Genki.appendix.jisho.cache.group[n]||(Genki.appendix.jisho.cache.group[n]=[]),Genki.appendix.jisho.cache.group[n].push(e.firstChild),Genki.appendix.jisho.cache.search.ja.push(e));l.appendChild(c)}for(d=d.sort(),o="A",c=s.createDocumentFragment(),g=0,k=d.length;g<k;g++)(r=d[g].charAt(0))!=o&&(/[a-z]/.test(r)?(s.getElementById("list-"+o).appendChild(c),o=r.toUpperCase(),c=s.createDocumentFragment()):console.error('STRING CLEAN ERROR: "'+r+'" is an invalid definition key. The key must be alphabetical. (A-Z)\nDefinition Source: { ja : "'+u[d[g]].querySelector(".def-ja").innerHTML.replace(/<span class="def-en">.*?<\/span>/,"")+'", en : "'+u[d[g]].querySelector(".def-en").innerHTML+'" }')),(a=u[d[g]].innerHTML.match(/<span class="def-en">.*?<\/span>/))[0]&&(u[d[g]].innerHTML=u[d[g]].innerHTML.replace(/<span class="def-en">.*?<\/span>/,"").replace(/(<input.*?<\/span>)/,"$1"+a[0]+" "),c.appendChild(u[d[g]]),Genki.appendix.jisho.cache.box[u[d[g]].dataset.def].en=u[d[g]].firstChild,Genki.appendix.jisho.cache.group[o]||(Genki.appendix.jisho.cache.group[o]=[]),Genki.appendix.jisho.cache.group[o].push(u[d[g]].firstChild),Genki.appendix.jisho.cache.search.en.push(u[d[g]]));s.getElementById("list-"+o).appendChild(c);for(var f=s.querySelectorAll(".dictionary-group .section-title"),g=0,k=f.length;g<k;g++)f[g].insertAdjacentHTML("beforeend",'<span class="definition-count">('+Genki.appendix.jisho.cache.group[f[g].id.replace("section-","")].length+")</span>");s.getElementById("total-definitions").innerHTML="<strong>"+Genki.appendix.jisho.cache.search.ja.length+"</strong>",Genki.appendix.jisho.restoreSettings(),AddJumpArrowsTo(".dictionary-group .section-title","dictionary-top","ja"==GenkiLang?"辞書索引に戻る":"Return to the top of the dictionary"),s.getElementById("exercise-title").insertAdjacentHTML("beforeend"," Word Practice"),Genki.appendix.jisho.cache.search.res_ja=s.getElementById("dict-search-results-ja"),Genki.appendix.jisho.cache.search.res_en=s.getElementById("dict-search-results-en"),Genki.appendix.jisho.cache.search.hit_ja=s.getElementById("dict-search-hits-ja"),Genki.appendix.jisho.cache.search.hit_en=s.getElementById("dict-search-hits-en"),Genki.appendix.finishedLoading()},switchMode:function(e,n){var i={button:s.getElementById("ja-mode"),dict:s.getElementById("japanese-english")},a={button:s.getElementById("en-mode"),dict:s.getElementById("english-japanese")};"ja"==e&&"ja"!=Genki.appendix.jisho.mode?(i.button.className+=" active-mode",a.button.className=a.button.className.replace(" active-mode",""),a.dict.className+=" dict-hidden",i.dict.className=i.dict.className.replace(" dict-hidden","")):"en"==e&&"en"!=Genki.appendix.jisho.mode&&(a.button.className+=" active-mode",i.button.className=i.button.className.replace(" active-mode",""),i.dict.className+=" dict-hidden",a.dict.className=a.dict.className.replace(" dict-hidden","")),Genki.appendix.jisho.mode=e,!n&&storageOK&&(localStorage.genkiJishoMode=e)},updateCheckboxes:function(e,s,n){var i,a=Genki.appendix.jisho.cache.box[s],t=Genki.appendix.jisho.selected.indexOf(s);if(e.checked){for(i in a)e!=a[i]&&(a[i].checked=!0);-1==t&&Genki.appendix.jisho.selected.push(s)}else if(!e.checked){for(i in a)e!=a[i]&&(a[i].checked=!1);-1!=t&&Genki.appendix.jisho.selected.splice(t,1)}!n&&storageOK&&(localStorage.selectedDefinitions=Genki.appendix.jisho.selected)},selectAll:function(e,s){var n,i,a,t=s?Genki.appendix.jisho.cache.group[s]:Genki.appendix.jisho.cache.box;if(t){if(s)for(n=0,i=t.length;n<i;n++)t[n].checked!=e&&(t[n].checked=e,Genki.appendix.jisho.updateCheckboxes(t[n],t[n].parentNode.dataset.def,!0));else for(a in t)t[a].ja.checked!=e&&(t[a].ja.checked=e,Genki.appendix.jisho.updateCheckboxes(t[a].ja,t[a].ja.parentNode.dataset.def,!0));storageOK&&(localStorage.selectedDefinitions=Genki.appendix.jisho.selected)}},toggleList:function(e,s){if(s){var n=(c=e.parentNode.parentNode.parentNode.parentNode).querySelectorAll(".dictionary-group .group-selectors"),i=c.querySelectorAll(".dictionary-group .word-list"),a=c.querySelectorAll(".dictionary-group .toggle-word-list"),t=0,l=i.length;if(/Show/.test(e.innerHTML)){for(;t<l;t++)i[t].className=i[t].className.replace(" hidden",""),n[t].className=n[t].className.replace(" hidden",""),a[t].innerHTML=a[t].innerHTML.replace("Show","Hide").replace("表示","非表示");e.innerHTML=e.innerHTML.replace("Show","Hide").replace("表示","非表示")}else{for(;t<l;t++)/hidden/.test(i[t].className)||(i[t].className+=" hidden"),/hidden/.test(n[t].className)||(n[t].className+=" hidden"),a[t].innerHTML=a[t].innerHTML.replace("Hide","Show").replace("非表示","表示");e.innerHTML=e.innerHTML.replace("Hide","Show").replace("非表示","表示")}}else{var c;n=(c=e.parentNode.parentNode).querySelector(".group-selectors"),i=c.querySelector(".word-list");/hidden/.test(i.className)?(i.className=i.className.replace(" hidden",""),n.className=n.className.replace(" hidden",""),e.innerHTML=e.innerHTML.replace("Show","Hide").replace("表示","非表示")):(i.className+=" hidden",n.className+=" hidden",e.innerHTML=e.innerHTML.replace("Hide","Show").replace("非表示","表示"))}},search:function(n,i,a){Genki.appendix.jisho.searchTimeout&&e.clearTimeout(Genki.appendix.jisho.searchTimeout),Genki.appendix.jisho.searchTimeout=e.setTimeout(function(){var e,t,l=s.createDocumentFragment(),c=Genki.appendix.jisho.cache.search["res_"+i],o=Genki.appendix.jisho.cache.search["hit_"+i],r=Genki.appendix.jisho.cache.search[i],p=r.length,d=0,u=0;for(e in Genki.appendix.jisho.cache.box)Genki.appendix.jisho.cache.box[e]["search_"+i]&&delete Genki.appendix.jisho.cache.box[e]["search_"+i];if(Genki.appendix.jisho.cache.group["search_"+i]=[],c.innerHTML="",n)for(;u<p;u++)-1!=r[u].innerText.toLowerCase().indexOf(n.toLowerCase())&&(t=r[u].cloneNode(!0),l.appendChild(t),Genki.appendix.jisho.cache.box[r[u].dataset.def]["search_"+i]=t.firstChild,Genki.appendix.jisho.cache.group["search_"+i].push(t.firstChild),d++);if(!a&&!l.childNodes.length&&n&&/[\u3400-\u9faf]/.test(n)){var h=n.match(/[\u3400-\u9faf]+/);h&&h[0]&&Genki.appendix.jisho.search(h[0],i,!0)}else l.childNodes.length?(c.parentNode.querySelector(".group-selectors").style.visibility="",c.appendChild(l)):(c.parentNode.querySelector(".group-selectors").style.visibility="hidden",c.innerHTML=n?'<li><span class="en">No results found for "'+n+'".</span><span class="ja">「'+n+"」が見つかりませんでした。</span></li>":""),o.innerHTML=d?"("+d+") ":"";delete Genki.appendix.jisho.searchTimeout},300)},purgeBadSelectors:function(){for(var e=Genki.appendix.jisho.selected.length,n=0,i=[];n<e;n++)s.querySelector('#japanese-english [data-def="'+Genki.appendix.jisho.selected[n]+'"]')||i.push(Genki.appendix.jisho.selected[n]);if(i.length){for(;i.length;)Genki.appendix.jisho.selected.splice(Genki.appendix.jisho.selected.indexOf(i[0]),1),i.splice(0,1);storageOK&&(localStorage.selectedDefinitions=Genki.appendix.jisho.selected),e=Genki.appendix.jisho.selected.length}},launchExercise:function(){var e=Genki.appendix.jisho.selected.length;Genki.appendix.jisho.purgeBadSelectors(),e<5?GenkiModal.open({title:'<span class="en">Please select more words.</span><span class="ja">言葉をもっと選択してください。</span>',content:'<span class="en">Please select <b>'+(5-e)+"</b> more word"+(5-e==1?"":"s")+' to begin a practice exercise.</span><span class="ja">言葉を<b>'+(5-e)+"</b>つ選択してください。</span>"}):GenkiModal.open({title:'<span class="en">Begin Practice?</span><span class="ja">練習を始めますか？</span>',content:'<span class="en">Are you ready to practice your selected words?</span><span class="ja">選択した言葉を練習してもよろしいですか？</span>',buttonText:"Yes",keepOpen:!0,callback:function(){for(var n,i,a=Genki.appendix.jisho.selected,t={},l=0;l<e;l++)i=(n=s.querySelector('#japanese-english [data-def="'+a[l]+'"]')).querySelector(".def-furi i"),t[n.querySelector(".def-ja").innerHTML.replace(/<i>.*?<\/i>/,"")+(i?"|"+i.innerHTML:"")]=n.querySelector(".def-en").innerHTML;Genki.generateQuiz({format:"vocab",type:["multi","drag","writing","fill"],info:[Genki.lang.vocab_multi,Genki.lang.std_drag,Genki.lang.vocab_writing,Genki.lang.vocab_fill],quizlet:t}),Genki.appendix.showExercise()}})},manageWords:function(){GenkiModal.open({title:'<span class="en">Manage Selected Words</span><span class="ja">選択した言葉</span>',content:'<ol id="selected_words_list" class="dict-search-results"></ol>',buttonText:"Close",noFocus:!0,customSize:{top:"5%",left:"10%",bottom:"5%",right:"10%"}}),Genki.appendix.jisho.purgeBadSelectors();var e,n,i,a,t=s.getElementById("selected_words_list"),l=storageOK&&localStorage.selectedDefinitions?localStorage.selectedDefinitions.split(","):[],c=0,o=Genki.appendix.jisho.selected.length;if(o){for(e=s.createDocumentFragment();c<o;c++)(n=s.createElement("LI")).className="definition clear",n.dataset.def=Genki.appendix.jisho.selected[c],a=(i=Genki.jisho[Genki.appendix.jisho.selected[c].slice(0,1)][Genki.appendix.jisho.selected[c].slice(1)]).ja.split("|"),n.innerHTML='<input class="def-selector genki_input_hidden" type="checkbox" onchange="Genki.appendix.jisho.updateCheckboxes(this, \''+n.dataset.def+"');\""+(-1!=l.indexOf(n.dataset.def)?"checked":"")+'><span tabindex="0" class="genki_pseudo_checkbox" onclick="this.previousSibling.click(); Genki.appendix.jisho.removeSelectedWord(this);" onkeypress="if (event.key == \'Enter\') { this.previousSibling.click(); Genki.appendix.jisho.removeSelectedWord(this); }"></span><span class="def-ja'+(a[1]?" def-furi":"")+'">'+a[0]+(a[1]?"<i>"+a[1]+"</i>":"")+'</span>&nbsp;<span class="def-en">'+i.en+"</span>"+(i.v?' <span class="def-vtype">[<i>'+i.v+"</i>]</span>":"")+'<span class="def-label">'+i.l+"</span>",e.appendChild(n);t.appendChild(e),t.querySelector(".genki_pseudo_checkbox").focus()}else t.innerHTML='<span class="en">No words selected.</span><span class="ja">言葉は選択していません。</span>'},removeSelectedWord:function(e){var n=s.getElementById("selected_words_list");n.removeChild(e.parentNode),n.childNodes.length||(n.innerHTML='<span class="en">No words selected.</span><span class="ja">言葉は選択していません。</span>')},restoreSettings:function(){storageOK&&(localStorage.genkiJishoMode&&"ja"!=localStorage.genkiJishoMode&&Genki.appendix.jisho.switchMode(localStorage.genkiJishoMode,!0),localStorage.selectedDefinitions&&(Genki.appendix.jisho.selected=localStorage.selectedDefinitions.split(",")))}},studyMap:function(){GenkiModal.open({title:"Study Map of Japan?",content:'Are you ready to study the map of Japan? Please select the quiz you would like to take below.<br><br><div class="center"><select id="selected-map"><option value="1"'+(storageOK&&"1"==localStorage.genkiSelectedMap?" selected":"")+'>Hokkaido and Tohoku Region (1-8)</option><option value="2"'+(storageOK&&"2"==localStorage.genkiSelectedMap?" selected":"")+'>Kanto Region (9-15)</option><option value="3"'+(storageOK&&"3"==localStorage.genkiSelectedMap?" selected":"")+'>Chubu Region (16-23)</option><option value="4"'+(storageOK&&"4"==localStorage.genkiSelectedMap?" selected":"")+'>Kinki Region (24-30)</option><option value="5"'+(storageOK&&"5"==localStorage.genkiSelectedMap?" selected":"")+'>Chugoku and Shikoku Region (31-39)</option><option value="6"'+(storageOK&&"6"==localStorage.genkiSelectedMap?" selected":"")+'>Kyushu Region (40-47)</option><option value="7"'+(storageOK&&"7"==localStorage.genkiSelectedMap?" selected":"")+'>Cities and Landmarks 1 (48-58)</option><option value="8"'+(storageOK&&"8"==localStorage.genkiSelectedMap?" selected":"")+">Cities and Landmarks 2 (59-69)</option></select></div>",callback:function(){var e,n,i,a,t,l,c=s.getElementById("selected-map"),o=s.getElementById("exercise-title"),r=c.options[c.selectedIndex].innerHTML.replace(/\(.*?\)$/,"Quiz"),p=+c.value,d=[],u=[];switch(storageOK&&(localStorage.genkiSelectedMap=p),p){case 1:e="1-8",i=[{question:'<span class="inline-furi">北海道<i class="furigana">ほっかいどう</i></span>',answers:["A1"]},{question:'<span class="inline-furi">青森県<i class="furigana">あおもりけん</i></span>',answers:["A2"]},{question:'<span class="inline-furi">秋田県<i class="furigana">あきたけん</i></span>',answers:["A3"]},{question:'<span class="inline-furi">岩手県<i class="furigana">いわてけん</i></span>',answers:["A4"]},{question:'<span class="inline-furi">山形県<i class="furigana">やまがたけん</i></span>',answers:["A5"]},{question:'<span class="inline-furi">宮城県<i class="furigana">みやぎけん</i></span>',answers:["A6"]},{question:'<span class="inline-furi">新潟県<i class="furigana">にいがたけん</i></span>',answers:["A7"]},{question:'<span class="inline-furi">福島県<i class="furigana">ふくしまけん</i></span>',answers:["A8"]}];break;case 2:e="9-15",i=[{question:'<span class="inline-furi">群馬県<i class="furigana">ぐんまけん</i></span>',answers:["A9"]},{question:'<span class="inline-furi">栃木県<i class="furigana">とちぎけん</i></span>',answers:["A10"]},{question:'<span class="inline-furi">茨城県<i class="furigana">いばらきけん</i></span>',answers:["A11"]},{question:'<span class="inline-furi">埼玉県<i class="furigana">さいたまけん</i></span>',answers:["A12"]},{question:'<span class="inline-furi">東京都<i class="furigana">とうきょうと</i></span>',answers:["A13"]},{question:'<span class="inline-furi">千葉県<i class="furigana">ちばけん</i></span>',answers:["A14"]},{question:'<span class="inline-furi">神奈川県<i class="furigana">かながわけん</i></span>',answers:["A15"]}];break;case 3:e="16-23",i=[{question:'<span class="inline-furi">山梨県<i class="furigana">やまなしけん</i></span>',answers:["A16"]},{question:'<span class="inline-furi">長野県<i class="furigana">ながのけん</i></span>',answers:["A17"]},{question:'<span class="inline-furi">静岡県<i class="furigana">しずおかけん</i></span>',answers:["A18"]},{question:'<span class="inline-furi">富山県<i class="furigana">とやまけん</i></span>',answers:["A19"]},{question:'<span class="inline-furi">石川県<i class="furigana">いしかわけん</i></span>',answers:["A20"]},{question:'<span class="inline-furi">福井県<i class="furigana">ふくいけん</i></span>',answers:["A21"]},{question:'<span class="inline-furi">岐阜県<i class="furigana">ぎふけん</i></span>',answers:["A22"]},{question:'<span class="inline-furi">愛知県<i class="furigana">あいちけん</i></span>',answers:["A23"]}];break;case 4:e="24-30",i=[{question:'<span class="inline-furi">滋賀県<i class="furigana">しがけん</i></span>',answers:["A24"]},{question:'<span class="inline-furi">三重県<i class="furigana">みえけん</i></span>',answers:["A25"]},{question:'<span class="inline-furi">京都府<i class="furigana">きょうとけん</i></span>',answers:["A26"]},{question:'<span class="inline-furi">大阪府<i class="furigana">おおさかふ</i></span>',answers:["A27"]},{question:'<span class="inline-furi">奈良県<i class="furigana">ならけん</i></span>',answers:["A28"]},{question:'<span class="inline-furi">和歌山県<i class="furigana">わかやまけん</i></span>',answers:["A29"]},{question:'<span class="inline-furi">兵庫県<i class="furigana">ひょうごけん</i></span>',answers:["A30"]}];break;case 5:e="31-39",i=[{question:'<span class="inline-furi">鳥取県<i class="furigana">とっとりけん</i></span>',answers:["A31"]},{question:'<span class="inline-furi">島根県<i class="furigana">しまねけん</i></span>',answers:["A32"]},{question:'<span class="inline-furi">岡山県<i class="furigana">おかやまけん</i></span>',answers:["A33"]},{question:'<span class="inline-furi">広島県<i class="furigana">ひろしまけん</i></span>',answers:["A34"]},{question:'<span class="inline-furi">山口県<i class="furigana">やまぐちけん</i></span>',answers:["A35"]},{question:'<span class="inline-furi">香川県<i class="furigana">かがわけん</i></span>',answers:["A36"]},{question:'<span class="inline-furi">徳島県<i class="furigana">とくしまけん</i></span>',answers:["A37"]},{question:'<span class="inline-furi">愛媛県<i class="furigana">えひめけん</i></span>',answers:["A38"]},{question:'<span class="inline-furi">高知県<i class="furigana">こうちけん</i></span>',answers:["A39"]}];break;case 6:e="40-47",i=[{question:'<span class="inline-furi">福岡県<i class="furigana">ふくおかけん</i></span>',answers:["A40"]},{question:'<span class="inline-furi">佐賀県<i class="furigana">さがけん</i></span>',answers:["A41"]},{question:'<span class="inline-furi">長崎県<i class="furigana">ながさきけん</i></span>',answers:["A42"]},{question:'<span class="inline-furi">大分県<i class="furigana">おおいたけん</i></span>',answers:["A43"]},{question:'<span class="inline-furi">熊本県<i class="furigana">くまもとけん</i></span>',answers:["A44"]},{question:'<span class="inline-furi">宮崎県<i class="furigana">みやざきけん</i></span>',answers:["A45"]},{question:'<span class="inline-furi">鹿児島県<i class="furigana">かごしまけん</i></span>',answers:["A46"]},{question:'<span class="inline-furi">沖縄県<i class="furigana">おきなわけん</i></span>',answers:["A47"]}];break;case 7:e="48-58",i=[{question:'<span class="inline-furi">沖縄（琉球舞踊）<i class="furigana">おきなわ（りゅうきゅうぶよう）</i></span>',answers:["A48"]},{question:'<span class="inline-furi">桜島<i class="furigana">さくらじま</i></span>',answers:["A49"]},{question:'<span class="inline-furi">長崎（平和の像）<i class="furigana">ながさき（へいわのぞう）</i></span>',answers:["A50"]},{question:'<span class="inline-furi">伊万里（伊万里焼）<i class="furigana">いまり（いまりやき）</i></span>',answers:["A51"]},{question:'<span class="inline-furi">広島（原爆ドーム）<i class="furigana">ひろしま（げんばくドーム）</i></span>',answers:["A52"]},{question:'<span class="inline-furi">京都（東寺）<i class="furigana">きょうと（とうじ）</i></span>',answers:["A53"]},{question:'<span class="inline-furi">姫路（姫路城）<i class="furigana">ひめじ（ひめじじょう）</i></span>',answers:["A54"]},{question:'<span class="inline-furi">日本アルプス<i class="furigana">にほんアルプス</i></span>',answers:["A55"]},{question:'<span class="inline-furi">札幌（雪祭り）<i class="furigana">さっぽろ（ゆくまつり）</i></span>',answers:["A56"]},{question:'<span class="inline-furi">松島<i class="furigana">まつしま</i></span>',answers:["A57"]},{question:'<span class="inline-furi">日光（東照宮）<i class="furigana">にっこう（とうしょうぐう）</i></span>',answers:["A58"]}];break;case 8:e="59-69",i=[{question:'<span class="inline-furi">富士山<i class="furigana">ふじさん</i></span>',answers:["A59"]},{question:'<span class="inline-furi">白川郷<i class="furigana">しらかわごう</i></span>',answers:["A60"]},{question:'<span class="inline-furi">奈良（大仏）<i class="furigana">なら（だいぶつ）</i></span>',answers:["A61"]},{question:'<span class="inline-furi">大阪<i class="furigana">おおさか</i></span>',answers:["A62"]},{question:'<span class="inline-furi">名古屋<i class="furigana">なごや</i></span>',answers:["A63"]},{question:'<span class="inline-furi">鎌倉<i class="furigana">かまくら</i></span>',answers:["A64"]},{question:'<span class="inline-furi">横浜<i class="furigana">よこはま</i></span>',answers:["A65"]},{question:'<span class="inline-furi">東京<i class="furigana">とうきょう</i></span>',answers:["A66"]},{question:'<span class="inline-furi">金沢<i class="furigana">かなざわ</i></span>',answers:["A67"]},{question:'<span class="inline-furi">琵琶湖<i class="furigana">びわこ</i></span>',answers:["A68"]},{question:'<span class="inline-furi">神戸<i class="furigana">こうべ</i></span>',answers:["A69"]}]}for((e=e.split("-"))[0]=+e[0],e[1]=+e[1],d=[];e[0]<=e[1];e[0]++)d.push(e[0]);for(;i.length;){for(i[a=Math.floor(Math.random()*i.length)].question="Where is "+i[a].question+" located on the map?",t=3,(n=d.slice()).splice(n.indexOf(+i[a].answers[0].replace("A","")),1);t-- >0;)l=Math.floor(Math.random()*n.length),i[a].answers.push(n[l]),n.splice(l,1);u.push(i[a]),i.splice(a,1)}o.innerHTML=o.innerHTML.replace(/- .*/,"- "+r),Genki.appendix.showExercise(),Genki.generateQuiz({type:"multi",info:"Look at the map and answer the questions about each location.",quizlet:u})}})},studyChart:function(e){var n=Genki.active.exercise[1];GenkiModal.open({title:"Study "+n+"?",content:"Are you ready to study the "+n+"?",callback:function(){var n,i;switch(e){case"numbers":i="Fill in the following chart with the correct numbers and sound changes.",n=Genki.appendix.numbers_chart;break;case"conjugation":i="Conjugate all the verbs into the correct forms. If you haven't learned a specific form yet, only focus on the ones that you have learned and then check your answers.",n=Genki.appendix.conjugation_chart}s.getElementById("exercise-title").insertAdjacentHTML("beforeend"," Quiz"),Genki.appendix.showExercise(),Genki.generateQuiz({type:"fill",info:i,quizlet:n})}})},showExercise:function(){s.getElementById("appendix-tool").style.display="none",s.getElementById("exercise").style.display=""},finishedLoading:function(){var e=s.querySelector(".loading");e.className=e.className.replace("loading","")}},s.getElementById("appendix-tool").appendChild(s.querySelector(".more-exercises").cloneNode(!0))}(window,document);