!function(e,n){"use strict";n.body.className="helper-"+(storageOK&&"false"==localStorage.furiganaVisible?"hidden":"present"),e.GRIndex={toggle:function(e,t){var o=n.getElementById("exercises-"+t);/Show/.test(e.innerHTML)?(o.style.display="block",e.innerHTML=e.innerHTML.replace("Show","Hide").replace("表示","非表示")):(o.style.display="",e.innerHTML=e.innerHTML.replace("Hide","Show").replace("非表示","表示"))},toggleAll:function(e){var t=/Show/.test(e.innerHTML)?"show":"hide";GRIndex.buttons||(GRIndex.buttons=n.querySelectorAll(".grammar-toggler"));for(var o=0,a=GRIndex.buttons.length;o<a;o++)"show"==t&&/Show/.test(GRIndex.buttons[o].innerHTML)?GRIndex.buttons[o].click():"hide"==t&&/Hide/.test(GRIndex.buttons[o].innerHTML)&&GRIndex.buttons[o].click();e.innerHTML="show"==t?e.innerHTML.replace("Show","Hide").replace("表示","非表示"):e.innerHTML.replace("Hide","Show").replace("非表示","表示")},jump:function(){if(/l\d+-p\d+|lesson-grammar-\d+/.test(e.location.hash)){var t=/lesson-grammar-\d+/.test(e.location.hash),o=e.location.hash.slice(1),a=t?e.location.hash.replace(/.*?lesson-grammar-(\d+).*/,"$1"):e.location.hash.replace(/.*?l(\d+)-p\d+.*/,"$1"),r=(e.location.hash.replace(/.*?l\d+-p(\d+).*/,"$1"),n.getElementById("toggler-"+a));if(r&&/Show/.test(r.innerHTML)){r.click();try{n.getElementById(o).scrollIntoView()}catch(n){e.location.hash="#",e.location.hash="#"+o}}}}},n.addEventListener("click",function(n){for(var t=n.target;"A"!=t.tagName&&t.parentNode&&"BODY"!=t.parentNode.tagName;)t=t.parentNode;t&&t.href&&/l\d+-p\d+|lesson-grammar-\d+/.test(t.href)&&e.setTimeout(GRIndex.jump,50)})}(window,document);